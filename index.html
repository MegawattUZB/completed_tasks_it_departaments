<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Выполненные задачи</title>
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
		<style>
			body {
			    font-family: 'Roboto', sans-serif;
			    background-color: #f7f9fc;
			    color: #333;
			    margin: 0;
			    padding: 0;
			    display: flex;
			    flex-direction: column;
			    align-items: center;
			}

			.container {
			    max-width: 1000px;
			    width: 100%;
			    padding: 20px;
			}

			h2 {
			    text-align: center;
			    color: #4CAF50;
			    margin-bottom: 20px;
			    font-size: 2.5em;
			    position: relative;
			}

			h2::after {
			    content: '';
			    display: block;
			    width: 50px;
			    height: 4px;
			    background-color: #4CAF50;
			    margin: 10px auto;
			    border-radius: 2px;
			}

			.card {
			    background: linear-gradient(145deg, #ffffff, #e6e6e6);
			    border: 1px solid #ddd;
			    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			    padding: 20px;
			    margin: 20px 0;
			    border-radius: 12px;
			    transition: transform 0.3s ease, box-shadow 0.3s ease;
			    opacity: 0;
			    transform: translateY(20px);
			    animation: fadeInUp 0.5s forwards;
			}

			@keyframes fadeInUp {
			    to {
			        opacity: 1;
			        transform: translateY(0);
			    }
			}

			.card:hover {
			    transform: translateY(-10px);
			    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
			}

			.card-header {
			    font-weight: bold;
			    color: #444;
			    margin-bottom: 10px;
			    font-size: 1.4em;
			}

			.card-body {
			    display: flex;
			    flex-direction: column;
			}

			.card-body div {
			    margin: 10px 0;
			}

			.label {
			    font-weight: bold;
			    color: #555;
			}

			.label-value {
			    color: #666;
			    margin-left: 10px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h2>Выполненные задачи за 21.08.2024</h2>

			<div id="cardsContainer"></div>
		</div>

		<script>
			const requests = [{"Отдел":"ОП","Апдейты":"Изменил","Инициатор":"Umid Umarov","Крайний срок":"2024-08-21","Ответственный":["Аваз"],"Тема обращения":"Таблица У. М","Описание задачи / проблемы":"договор по факту 8 шт"},{"Отдел":"Сервис","Апдейты":"В первой модули, был записан 2024-08-08\nИзменил на {{formatDate(now; \"YYYY-MM-DD\")}}","Инициатор":"Владимир Абдуллаев","Крайний срок":"2024-08-21","Ответственный":["Аваз"],"Тема обращения":"EASYSOFT","Описание задачи / проблемы":"Каждый день почему то всем клиентам отправляется смс информирование."},{"Отдел":"Клиентский сервис","Апдейты":"Гаплашдим поддержка бн. \n\n1 холат - Бир вактни узида 2-3 кунгирок буб колса, автоматический перегрузкага утиб кетади.\n2 холат - Мобил оператори тарафдан спам звонокла келиши мумкин (в нашем случае Узтелеком).\nБу нормал холат бир бир шунака буб туради диб айтди.\n\nЙечим:\n1 - вариант. Серверни янгилаш, агар ростанам шунака куп звонокла боладиган болса, онлайн ПБХ тарафдан бу албатта пул туради.\n2 - вариант. Звонок бугандан яни шунака холат кайтарилган вактда Узтелеком бн богланиб текшириб беришларини сораш спам звоноклар кетмаятканини аниклаш.\n\nФакат 105 операторда шунака ддим.\nЭрталаб факат 105 оператор онлайн боладилами дди? коганла бн богланолмай колиб хаммаси 105 кетади дди.","Инициатор":"Яна Тарасова","Крайний срок":"2024-08-24","Ответственный":["Аваз"],"Тема обращения":"Некорректная работа статистики","Описание задачи / проблемы":"В журнале звонков Шахзоды много пропущенных в одно и то же время. Причиной там написано \"Компьютерная сеть перегружена\". Почему так происходит и как это решить? Это важно, т.к. сбивается статистика звонков."},{"Отдел":"ОП","Апдейты":"Поставил фильтр на проверку. Если неправильно указан эмейл будет уведомление в ТГ канал с текстом \n\"⚠️Неправильно указан e-mail клиента!⚠️\nСсылка на сделку:byd.bitrix24.ru/crm/deal/details/{{2.ID}}/\nМенеджер: {{103.data.`ФИО сотрудника`}}\"","Инициатор":"Pavel Popov","Крайний срок":"2024-08-21","Ответственный":["Аваз"],"Тема обращения":"E-mail","Описание задачи / проблемы":"У нас  E mail является обязательным полем при заявке на Договор. Возможно сделать, чтобы менеджер не мог поставить просто \"-\"?"},{"Отдел":"ОП","Апдейты":"Дал права РОПа","Инициатор":"Муслима Юсупова","Крайний срок":"2024-08-21","Ответственный":["Аваз"],"Тема обращения":"Права доступа","Описание задачи / проблемы":"Можете в срме дать доступ Мавлону чтоб он изменил комментарии добавил и тд"},{"Отдел":"Бухгалтерия","Апдейты":"Добавил","Инициатор":"Диана Юнусова","Крайний срок":"2024-08-21","Ответственный":["Аваз"],"Тема обращения":"Добавление машин","Описание задачи / проблемы":"Добавить машины для изисофт, гугл-таблицы, airtable и для инспекции"}];

			function formatDate(dateString) {
			    const date = new Date(dateString);
			    const day = String(date.getDate()).padStart(2, '0');
			    const month = String(date.getMonth() + 1).padStart(2, '0');
			    const year = date.getFullYear();
			    return `${day}.${month}.${year}`;
			}

			function formatDescription(description) {
			    return description.replace(/\n/g, '<br>');
			}

			const cardsContainer = document.getElementById('cardsContainer');
			requests.forEach(request => {
			    const card = document.createElement('div');
			    card.classList.add('card');

			    card.innerHTML = `
			        <div class="card-header">Инициатор: ${request['Инициатор']}</div>
			        <div class="card-body">
			            <div><span class="label">Отдел:</span><span class="label-value">${request['Отдел']}</span></div>
			            <div><span class="label">Ответственный:</span><span class="label-value">${request['Ответственный'] ? request['Ответственный'] : '-'}</span></div>
			            <div><span class="label">Крайний срок:</span><span class="label-value">${formatDate(request['Крайний срок'])}</span></div>
			            <div><span class="label">Тема обращения:</span><span class="label-value">${request['Тема обращения']}</span></div>
			            <div><span class="label">Описание задачи / проблемы:</span><span class="label-value">${formatDescription(request['Описание задачи / проблемы'])}</span></div>
			            <div><span class="label">Апдейты:</span><span class="label-value">${request['Апдейты'] ? request['Апдейты'] : ''}</span></div>
			        </div>
			    `;

			    cardsContainer.appendChild(card);
			});
		</script>
	</body>
</html>
